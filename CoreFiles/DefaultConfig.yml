#This files provides the default settings for MUBES
0_APP :
    #PATH_TO_MUBES_UBEM : ../MUBES_UBEM/                #[Str] this is not currently used
    #PATH_TO_MUBES_UBEM_PYTHON : ../venv/bin/python     #[Str] this is not currently used
    PATH_TO_ENERGYPLUS : C:/EnergyPlusV9-1-0            #[Str] this is for energyplus.exe path
    PATH_TO_RESULTS : ../../MUBES_SimResults/           #[Str] this is the main folder where the results will be stored. it will be created if not exists
    
1_DATA :
    PATH_TO_DATA : ../ModelerFolder/Minneberg_Buildings_v1.geojson      #[Str] Input file or folder in case of several files
    EPSG_REF : None                             #[int], is 4326 for US East coast, 3950 for EU, some other for elsewhere, leave None if no conversion is wanted

2_CASE :
    0_GrlChoices :
        CaseName : 'ForTest'                    #[Str] Name of the studied Case, a subfolder of this name will be created in the main folder defined in '0_APP:PATH_TO_RESULTS'
        OutputsFile : 'Outputs_Template.txt'    #[Str] Output file to identify the outputs the modeller would want and their frequency
        RefreshFolder : True                    #[Bool] True : the folder CaseName, if exist, is emptied whatever could be in it
        MakePlotsOnly : False                   #[Bool] True : a figure will be created with the buildings specified in BldID
        MakePlotsPerBld : False                 #[Bool] True : a figure is created for each building including it's shadowing surfaces (if present)
        Verbose : True                          #[Bool] True : Gives messages in the prompt window along the ongoing process
        CPUusage : 0.8                          #[Float] Factor of CPU allowed to be used during parallel computing
        DebugMode : False                       #[Bool] The log file will be feeded by detailed information along the process
    1_SimChoices :
        ZoneOfInterest : ''                     #[Str] BldID can be given from an external file if generated by a third program.
        BldID : []                              #[List of Str or int] list of Building's ID if defined as attribute in the geojson file, index of the building in the geojson file otherwise
        DESO : []                               #[List of Str] not currently used
        VarName2Change : []                     #[List of Str] parameters to be changed for parametric simulations
        Bounds : []                             #[List of list of 2 floats] bounds between the parameter are to be changed [Lower Bound,Upper Bounds] a pair of value is to be given for each parameter in VarName2Change
        BoundsLim : []                          #[List of list of 2 floats] used for calibration : external strict bounds
        ParamMethods : []                       #[List of Str] probabilistic law from which LHS will be generated (one for each parameter in VarName2Change. Can be 'Uniform', 'Normal', 'Triangular'. if 'Linear' : constant increase is ensure along the bounds
        NbRuns : 1                              #[Int] sample size for parametric simulation
        CorePerim : False                       #[Bool] True : core and perimeter zone thermal modelling
        FloorZoning : True                      #[Bool] True : each floor is considered as a zone or for core zone construction
    2_AdvancedChoices :
        API : False                             #[Bool] in case the simulation is launched trough an API. Option under development
        CreateFMU : False                       #[Bool] True: creates FMU for each building specified in the BldID. No simulation is launched afterward. FMU will be found in the CaseName folder
        Calibration : False                     #[Bool] if calibration process is desired to be launched (several other inputs are required
        CalibTimeBasis : ''                     #[Str] can currently be either 'MonthlyBasis','WeeklyBasis','YearlyBasis'.
        MeasurePath4Calibration : ''            #[Str] path to the measured data. File names currently need to quite specific. Under development for full deployment
        FromPosteriors : False                  #[Bool] True : Outputs form already made calibration phase will be created. Under development for full deployment
        PosteriorsDataPath : ''                 #[Str] path to the pickle file to be used to catch the posteriors
        ECMParam : ''                           #[Str] Energy Conservation Measure. Currently done from available posteriors
        ECMChange : 1                           #[Float] factor of enhancement of the default value (the default value could also be changed (useful for ECM applied to distributions)
        PassBldObject : True                   #[Bool] key word for reading only once the geojson file. but no launch through consol then for each bld
        RefBuildNum : None                      #[Int] building number (order of the GeoJson file) taken as a reference to pick other within the RefPerimeter distance. useful for large DataSets if None it will be ignored
        RefPerimeter : 500                      #[int] Distance threshold for which all building farer then this threshold for the RefBuildNum are ignored
        MakePolygonPlots : False                #[Bool] Distance threshold for which all building farer then this threshold for the RefBuildNum are ignored
3_SIM :
    #files are needed to be located in the eather folder of EnergyPlus asthe same path is used afterward to launch the simulation
    1_WeatherData :
        WeatherDataFile : 'WeatherData/USA_CA_San.Francisco.Intl.AP.724940_TMY3.epw' #[Str] Need to be a epw file. This one is given because installed by default when installing EnergyPlus
        Latitude: 37.62                        #[Float] Latitude of the location (+ is North, - is South) [-90,+90]
        Longitude: -122.40                     #[Float] Longitude of the location (- is West, + is East [-180,180]
        Time_Zone: -8.0                        #[Float] Time relative to GMT  [-12,14]
        Elevation: 2.0                         #[Float] Elevation
        YearRoundGroundTemp : 15               #Float] Year round ground temperature. considered constant afterward
    2_SimuData :
        Begin_Day_of_Month : 1                  #[Int]
        Begin_Month : 1                         #[Int]
        End_Day_of_Month : 31                   #[Int]
        End_Month : 12                          #[Int]
        SaveLogFiles : False                    #[Bool] True: computing folder is not removed thus all energyplus outputs files are preserved

    #this dict gives information on occupancy times each day. If DCV = True, the airflow will follow the number of person
    # and the schedule. if not it will be based only on the extra airflow rate but without schedule (all the time)
    #if some separation (ventilation and people) is needed than people heat generation should be converted inteo Electric Load as thus ariflow can be
    # related to a schedule, other wise...impossible
    3_BasisElement :
        Office_Open : '08:00'                   #[Str]
        Office_Close : '18:00'                  #[Str]
        DemandControlledVentilation : True      #[Bool]
        OccupBasedFlowRate : 7                  #[Float] l/s/person
        OccupHeatRate : 70                      #[Float] W per person
        EnvLeak : 1                             #[Float] l/s/m2 at 50Pa
        BasementAirLeak : 1                     #[Float] in Air change rate [vol/hour]
        wwr : 0.3                               #[Float]
        ExternalInsulation : False              #[Bool]
        ElecYearlyLoad : 15                     #[Float] this is the W\m2 value that will be applied constantly for appliances and occupancy consumptipon impact. It is replace by the values in EPCs if available
        IntLoadType : 'winter'                  #[Str] change either by 'Cste', 'winter', or 'summer' for reversed sigmoid or sigmoid this will generate hourly values file in the InputFiles folder
        IntLoadMultiplier : 1                   #[Float] this is a multiplier the modeler would like to play with for calibration
        IntLoadCurveShape : 3                   #[Float] this defines the slop of the curves
        OffOccRandom : False                    #[Bool]
        AreaBasedFlowRate : 0.35                #[Float] l/s/m2
        AreaBasedFlowRateDefault : 0.35         #[Float] l/s/m2 This will not be changed by EPCs and is needed if EPCs report only the balcned ventilation flow with HR for building that have 2 system and one wihtout recovery.
        setTempUpL : [50,50]                    #[List of 2 Floats] only one have to be defined for none temperature modulation
        setTempLoL : [21,21]                    #[List of 2 Floats]#only one have to be defined for none temperature modulation
        ComfortTempOff : '23:00'                #[Str] hours at wich the first temperature set point is considered
        ComfortTempOn : '06:00'                 #[Str] hours at wich the second temperature set point is considered
        ACH_freecool : 4                        #[Float] this the the vol/hr of extra ventilation when free cooling is on
        intT_freecool : 26                      #[Float] internal temperature threshold for free coolong (opening windows with fixed ACH)
        dT_freeCool : 1                         #[Float] Tint-Text to authorize free cooling to be turned on
        AirRecovEff : 0.65                      #[Float] efficiency if heat is recovered from ventilation
        HVACLimitMode : 'NoLimit'               #[Str] 'LimitCapacity', #can be NoLimit or LimitFlowRate or LimitFlowRateAndCpacity
        HVACPowLimit : 25                       #[Float] in Watt/m2
        
    #Thisdict gives all the materials characteristics.
    # There are 2 layer maximum, the word Inertia and Insulation or key factor further in the code. If one layer is wanted, just comment the other one.
    #the basement is considered not heated and thus never insulated layer
    BaseMaterial :
        Window : 
            UFactor :  1.9                      #[Float]
            Solar_Heat_Gain_Coefficient : 0.7   #[Float]
            Visible_Transmittance : 0.8         #[Float]
        Wall Inertia :
            Thickness : 0.2                     #[Float] #this layer will be considered also for the basement walls
            Conductivity : 0.9                  #[Float]
            Roughness : "Rough"                 #[Str]
            Density : 2300                      #[Float]
            Specific_Heat : 1000                #[Float]
        Wall Insulation :
            Thickness : 0.2                     #[Float]
            Conductivity : 0.03                 #[Float]
            Roughness : "Rough"                 #[Str]
            Density : 150                       #[Float]
            Specific_Heat : 1000                #[Float]
            #'Thermal_Absorptance' : 0.001
        Basement Floor :
            Thickness : 0.1                     #[Float] #this layer will be considered also for the basement floor
            Conductivity : 0.9                  #[Float]
            Roughness : "Rough"                 #[Str]
            Density : 2300                      #[Float]
            Specific_Heat : 1000                #[Float]
    #   Basement Floor Insulation : 
    #       Thickness : 0.05    #not needed as even without basement the Heated1rstFloor is taken for the first floor
    #       Conductivity : 0.25*0.1
    #       Roughness : "Rough"
    #       Density : 1000
    #       Specific_Heat : 1000
    #   Roof Inertia :
    #        Thickness : 0.05 #not needed unless one wants to have inertia in the roof layer
    #        Conductivity : 0.15*0.1
    #        Roughness : "Rough"
    #        Density : 1000
    #        Specific_Heat : 1000
        Roof Insulation :
            Thickness : 0.3                     #[Float]
            Conductivity : 0.03                 #[Float]
            Roughness : "Rough"                 #[Str]
            Density : 150                       #[Float]
            Specific_Heat : 1000                #[Float]
           #Thermal_Absorptance : 0.001
        Heated1rstFloor Inertia :
            Thickness : 0.1                     #[Float]
            Conductivity : 0.9                  #[Float]
            Roughness : "Rough"                 #[Str]
            Density : 2300                      #[Float]
            Specific_Heat : 1000                #[Float]
        Heated1rstFloor Insulation :
            Thickness : 0.15                    #[Float]
            Conductivity : 0.035                #[Float]
            Roughness : "Rough"                 #[Str]
            Density : 150                       #[Float]
            Specific_Heat : 1000                #[Float]
           #Thermal_Absorptance : 0.001

    #this dict is for specification of internalMass equivalence.
    #the material should represent the overall mean material of all partition and furnitures
    #the weight par zone area gives the quentity and the Average thickness enable to compute the surface for heat transfer
    #the mass gives a volume thanks to the density that gives a surface thanks to the average thickness
    InternalMass :
        HeatedZoneIntMass :
            Thickness : 0.1                     #[Float] #m this will define the surface in contact with the zone
            Conductivity : 0.3                  #[Float]
            Roughness : "Rough"                 #[Str]
            Density : 600                       #[Float]
            Specific_Heat : 1400                #[Float]
            WeightperZoneArea : 40              #[Float] #kg/m2
        NonHeatedZoneIntMass : 
            Thickness : 0.1                     #[Float] #m this will define the surface in contact with the zone
            Conductivity : 0.3                  #[Float]
            Roughness : "Rough"                 #[Str]
            Density : 600                       #[Float]
            Specific_Heat : 1400                #[Float]
            WeightperZoneArea : 40              #[Float] #kg/m2

    #this dict give element for the Domestic Hot water. it gives the externail file for the water taps and the inlet cold water temp.
    #if empty it is no longer taken into account. if new file are given, thses should be present in the Externael file folder
    ExtraEnergy :
        Present : True                          #[Bool] True: will consider the following information. Currently only used for DHW
        Name : 'DHW'                            #[Str]
        WatertapsFile : 'ExternalFiles/mDHW_Sum_over_40.txt'  #[Str] path to external file #this file is in l/mnin and will be converted into m3/s afertward. it needs to have hourly values
        ColdWaterTempFile : 'ExternalFiles/ColdWaterTemp.txt' #[Str] path to external file
        HotWaterSetTemp : 55                    #[Float]
        TargetWaterTapTemp : 37                 #[Float]
        WaterTapsMultiplier : 4.167e-7          #[Float] eval(1e-3/60/40) is ensured in the scriptsso operation van be given as well this is because the file given above is for 40 apartment and is in l/min where we need m3/s. in the code in is afterward multiplied by the number of apartement in the building
        
    #this dict is for the shading paradigm. There are two files that we need. the firt one is the main geojson that contains all buildings and their propreties
    #the other one contains for each shading surface id the vertex point and the building Id in order to catch the height of it.
    #to externalize as much as possible, these elements are reported in the dict below
    GeomElement :
        BuildIDKey : ['50A_UUID', 'objectid','OBJECTID','gid','igntop202103_bat_l_id']   #[List of Str] key word that can be used for the building ID
        FormularIdKey : 'FormularId'            #[Str] key word for the the EPC correspondance
        ShadingIdKey : 'vaggid'                 #[Str] key word for the shadowing wall given in the geojson file only
        BuildingIdKey : 'byggnadsid'            #[Str] key word for the owner of the shadowing wall given in the geojson file only
        VertexKey : 'geometries'                #[str] key for the attribute of the coordinates given in the geojson file only
        MaxShadingDist : 200                    #[Float] Maximum distance allowed to consider shadowing walls
        DistanceTolerance : 0.2                 #[Float] Geometric threshold from which below every edge are removed and vertexes merged
        AltitudeTolerance : 3                   #[float] Threshold below wich altitude will be merged. it should be the heigh of a storey
        VertexPrecision : 5                     #[int] precision of the round function for vertex coordinates


    # definition of person/m2...complytely abritrary, but we still need some vaalues
    # these proposales are taken from Marc Nohra report and from personnal suggestions
    # to be enhanced !!!!!BBR gives also some
    OccupType :
        Residential_key : 'EgenAtempBostad'
        Residential_Rate : [0.02, 0.02]
        Hotel_key : 'EgenAtempHotell'
        Hotel_Rate : [0.01, 0.02]
        Restaurant_key : 'EgenAtempRestaurang'
        Restaurant_Rate : [0.01, 0.09]
        Office_key : 'EgenAtempKontor'
        Office_Rate : [0.01, 0.09]
        FoodMarket_key : 'EgenAtempLivsmedel'
        FoodMarket_Rate : [0.01, 0.09]
        GoodsMarket_key : 'EgenAtempButik'
        GoodsMarket_Rate : [0.01, 0.09]
        Shopping_key : 'EgenAtempKopcentrum'
        Shopping_Rate : [0.01, 0.09] #'I still wonder what is the difference with goods'
        Hospital24h_key : 'EgenAtempVard'
        Hospital24h_Rate : [0.01, 0.09]
        Hospitalday_key : 'EgenAtempHotell'
        Hospitalday_Rate : [0.01, 0.09]
        School_key : 'EgenAtempSkolor'
        School_Rate : [0.01, 0.1]
        IndoorSports_key : 'EgenAtempBad'
        IndoorSports_Rate : [0.01, 0.1]
        Other_key : 'EgenAtempOvrig'
        Other_Rate : [0.01, 0.1]
        AssembPlace_key : 'EgenAtempTeater'
        AssembPlace_Rate : [0.01, 0.2]
    #this dict deals with the ventilation systems
    VentSyst :
        BalX : 'VentTypFTX'
        Exh : 'VentTypF'
        Bal : 'VentTypFT'
        Nat : 'VentTypSjalvdrag'
        ExhX : 'VentTypFmed'
    #this dict defines the acceptable limits for the element precised as well as the swedish key for the DataBase
    DBLimits :
        surface_key : ['EgenAtemp','SHAPE.AREA','st_areashape']
        surface_lim :      [0, 50000]
        nbfloor_key : 'EgenAntalPlan'
        nbfloor_lim :      [0, 100]
        nbBasefloor_key : 'EgenAntalKallarplan'
        nbBasefloor_lim :  [0, 4]
        year_key : 'EgenNybyggAr'
        year_lim :         [0, 2022]
        nbAppartments_key : 'EgenAntalBolgh'
        nbAppartments_lim : [0, 100]
        height_key : ['height', 'Height','SHAPE.LEN','st_lengthshape','Shape__Length','hauteur','igntop202103_bat_hauteur']
        height_lim :       [0, 100]
        AreaBasedFlowRate_key : 'EgenProjVentFlode'
        AreaBasedFlowRate_lim :     [0.35, 10]
        nbStairwell_key : 'EgenAntalTrapphus'
        nbStairwell_lim : [0, 100]
                

    #this dict defines the EPC measured key word
    EPCMeters :
        Heating :
            OilHeating_key : 'EgiOljaUPPV'
            OilHeatingCOP : 0.85
            GasHeating_key : 'EgiGasUPPV'
            GasHeatingCOP : 0.9
            WoodHeating_key : 'EgiVedUPPV'
            WoodHeatingCOP : 0.75
            PelletHeating_key : 'EgiFlisUPPV'
            PelletHeatingCOP : 0.75
            BioFuelHeating_key : 'EgiOvrBiobransleUPPV'
            BioFuelHeatingCOP : 0.75
            ElecWHeating_key : 'EgiElVattenUPPV'
            ElecWHeatingCOP : 1
            ElecHeating_key : 'EgiElDirektUPPV'
            ElecHeatingCOP : 1
            GSHPHeating_key : 'EgiPumpMarkUPPV'
            GSHPHeatingCOP : 3
            EASHPHeating_key : 'EgiPumpFranluftUPPV'
            EASHPHeatingCOP : 2
            AASHPHeating_key : 'EgiPumpLuftLuftUPPV'
            AASHPHeatingCOP : 2.5
            DistrictHeating_key : 'EgiFjarrvarmeUPPV'
            DistrictHeatingCOP : 1
            ElecAirHeating_key : 'EgiElLuftUPPV'
            ElecAirHeatingCOP : 1
            AWSHPHeating_key : 'EgiPumpLuftVattenUPPV'
            AWSHPHeatingCOP : 3.1
        
        DHW :
            OilHeating_key : 'EgiOljaVV'
            OilHeatingCOP : 0.85
            GasHeating_key : 'EgiGasVV'
            GasHeatingCOP : 0.9
            WoodHeating_key : 'EgiVedVV'
            WoodHeatingCOP : 0.75
            PelletHeating_key : 'EgiFlisVV'
            PelletHeatingCOP : 0.75
            BioFuelHeating_key : 'EgiOvrBiobransleVV'
            BioFuelHeatingCOP : 0.75
            ElecHeating_key : 'EgiElVV'
            ElecHeatingCOP : 1
            DistrictHeating_key : 'EgiFjarrvarmeVV'
            DistrictHeatingCOP : 1
        Cooling :
            DistCooling_key : 'EgiFjarrkyla'
            DistCoolingCOP : 1
            ElecCooling_key : 'EgiKomfort'
            ElecCoolingCOP : 1  #should be HP no?!

        ElecLoad :
            BuildingLev_key : 'EgiFastighet'
            BuildingLevCOP : 1
            HousholdLev_key : 'EgiHushall'
            HousholdLevCOP : 1
            OperationLev_key : 'EgiVerksamhet'
            OperationLevCOP : 1

        NRJandClass :
            WeatherCorrectedNRJ_key : 'EgiEnergianvandning'
            WeatherCorrectedNRJCOP : 1
            WeatherCorrectedPNRJ_key : 'EgiPrimarenergianvandning'
            WeatherCorrectedPNRJCOP : 1
            EnClasseVersion_key : 'EgiVersion'
            EnClasseVersionCOP : 1
            NRJ_Class_key : 'EgiEnergiklass'
            NRJ_ClassCOP : 1